(this["webpackJsonpreact-nw-app"]=this["webpackJsonpreact-nw-app"]||[]).push([[1],{128:function(e,t,a){e.exports=a(217)},133:function(e,t,a){},134:function(e,t,a){},15:function(e,t,a){e.exports={nav:"Navbar_nav__2GNhH",item:"Navbar_item__3blO1",activeLink:"Navbar_activeLink__1HCpq"}},217:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),r=a.n(n),s=a(37),c=a.n(s),i=(a(133),a(134),a(15)),o=a.n(i),u=a(16);var l=()=>r.a.createElement("nav",{className:o.a.nav},r.a.createElement("div",{className:o.a.item},r.a.createElement(u.b,{to:"/profile",activeClassName:o.a.activeLink},"Profile")),r.a.createElement("div",{className:"".concat(o.a.item," ").concat(o.a.active)},r.a.createElement(u.b,{to:"/dialogs",activeClassName:o.a.activeLink},"Messages")),r.a.createElement("div",{className:"".concat(o.a.item," ").concat(o.a.active)},r.a.createElement(u.b,{to:"/users",activeClassName:o.a.activeLink},"Users"))),d=a(6),p=a(47),m=a.n(p);var f=e=>r.a.createElement("header",{className:m.a.header},r.a.createElement("img",{src:"https://e7.pngegg.com/pngimages/11/247/png-clipart-sitckman-meme-rage-comic-internet-meme-like-a-boss-trollface-like-a-boss-comics-white.png",alt:"logo"}),r.a.createElement("div",{className:m.a.loginBlock},e.isAuth?r.a.createElement("div",null,r.a.createElement("div",null,"You entried as ",e.login),r.a.createElement("button",{onClick:e.logout},"log out")):r.a.createElement(u.b,{to:"/login"},"Login"))),g=a(25),b=a(22);class E extends r.a.Component{render(){return r.a.createElement(f,this.props)}}var h=Object(b.b)(e=>({isAuth:e.auth.isAuth,login:e.auth.login}),{logout:g.d})(E),O=a(18),v=a(3);let w={initialized:!1};var _=(e=w,t)=>{switch(t.type){case"INITIALIZED_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},S=a(51);const j=r.a.lazy(()=>Promise.all([a.e(0),a.e(6)]).then(a.bind(null,292))),y=r.a.lazy(()=>a.e(5).then(a.bind(null,291))),T=r.a.lazy(()=>Promise.all([a.e(0),a.e(4)]).then(a.bind(null,290))),I=r.a.lazy(()=>Promise.all([a.e(0),a.e(7)]).then(a.bind(null,289)));class P extends r.a.Component{componentDidMount(){this.props.initializeApp()}render(){return r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(h,null),r.a.createElement(l,null),r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(S.a,null)},r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(d.b,{path:"/profile/:userId?",render:()=>r.a.createElement(T,null)}),r.a.createElement(d.b,{path:"/dialogs",render:()=>r.a.createElement(j,null)}),r.a.createElement(d.b,{path:"/users",render:()=>r.a.createElement(y,null)}),r.a.createElement(d.b,{path:"/login",render:()=>r.a.createElement(I,null)}))))}}var k=Object(O.d)(d.f,Object(b.b)(e=>({initialized:e.app.initialized}),{initializeApp:()=>e=>{let t=e(Object(g.b)());Promise.all([t]).then(()=>{e({type:"INITIALIZED_SUCCESS"})})}}))(P),N=a(52),C=a(66);let L={friends:[{id:1,name:"Diman"},{id:2,name:"Misha"},{id:3,name:"Andrey"}]};var x=(e=L,t)=>e,A=a(67),U=a(78),G=a(73);let R=Object(O.c)({profilePage:N.b,messagePage:C.a,sidebar:x,usersPage:A.a,auth:g.a,form:G.a,app:_});const D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,F=Object(O.e)(R,D(Object(O.a)(U.a)));window.store=F;var M=F;c.a.render(r.a.createElement(u.a,{basename:"/reactnw"},r.a.createElement(b.a,{store:M},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},25:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return m}));var n=a(5),r=a.n(n),s=a(12),c=a(3),i=a(8),o=a(38);let u={userId:null,email:null,login:null,isAuth:!1};const l=(e,t,a,n)=>({type:"nwapp/auth/SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}),d=()=>function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.me();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,s=n.id,c=n.login,o=n.email,t(l(s,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(e,t,a)=>function(){var n=Object(s.a)(r.a.mark((function n(s){var c,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.login(e,t,a);case 2:0===(c=n.sent).data.resultCode?s(d()):(u=c.data.messages.length>0?c.data.messages[0]:"Some error",s(Object(o.a)("login",{_error:u})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=()=>function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=(e=u,t)=>{switch(t.type){case"nwapp/auth/SET_USER_DATA":return Object(c.a)(Object(c.a)({},e),t.payload);default:return e}}},47:function(e,t,a){e.exports={header:"Header_header__3KMls",loginBlock:"Header_loginBlock__ufjca"}},51:function(e,t,a){"use strict";var n=a(76),r=a.n(n),s=a(0),c=a.n(s),i=a(77),o=a.n(i);t.a=e=>c.a.createElement("div",{className:o.a.preload},c.a.createElement("img",{src:r.a,alt:""}))},52:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return m}));var n=a(5),r=a.n(n),s=a(12),c=a(3),i=a(8);let o={posts:[{id:1,message:"Hey, how are you?",likes:412},{id:2,message:"It's my third post",likes:111}],profile:null,status:""};const u=e=>({type:"ADD_POST",newPostText:e}),l=e=>({type:"SET_STATUS",status:e}),d=e=>function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getProfile(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=e=>function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:n=t.sent,a(l(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=e=>function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(l(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.b=(e=o,t)=>{switch(t.type){case"ADD_POST":let a={id:"",message:t.newPostText,likes:Math.ceil(10*Math.random())};return Object(c.a)(Object(c.a)({},e),{},{posts:[...e.posts,a]});case"SET_USER_PROFILE":return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(c.a)(Object(c.a)({},e),{},{status:t.status});default:return e}}},66:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var n=a(3);let r={messages:[{id:1,message:"Hey"},{id:2,message:"Dude"},{id:3,message:"How is ur skill?"},{id:4,message:"It is cool"},{id:5,message:"Keep calm"},{id:6,message:"Going on"},{id:7,message:"Cya"}],dialogs:[{id:1,name:"Diman"},{id:2,name:"Alina"},{id:3,name:"Vova"},{id:4,name:"Nikitos"},{id:5,name:"Syoma"},{id:6,name:"Pashok"},{id:7,name:"Vlad"}]};const s=e=>({type:"SEND_MESSAGE",newMessageBody:e});t.a=(e=r,t)=>{switch(t.type){case"SEND_MESSAGE":let a={id:8,message:t.newMessageBody};return Object(n.a)(Object(n.a)({},e),{},{messages:[...e.messages,a]});default:return e}}},67:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"f",(function(){return E}));var n=a(5),r=a.n(n),s=a(12),c=a(3),i=a(8);let o={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]};const u=e=>({type:"FOLLOW",userId:e}),l=e=>({type:"UNFOLLOW",userId:e}),d=e=>({type:"SET_CURRENT_PAGE",currentPage:e}),p=e=>({type:"TOGGLE_IS_FETCHING",isFetching:e}),m=(e,t)=>({type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}),f=(e,t)=>function(){var a=Object(s.a)(r.a.mark((function a(n){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(p(!0)),n(d(e)),a.next=4,i.c.getUsers(e,t);case 4:s=a.sent,n(p(!1)),n({type:"SET_USERS",users:s.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:s.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(m(!0,a)),e.next=3,n(a);case 3:0===e.sent.data.resultCode&&t(s(a)),t(m(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),b=e=>function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(a,e,i.c.follow.bind(i.c),u);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=e=>function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(a,e,i.c.unfollow.bind(i.c),l);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.a=(e=o,t)=>{switch(t.type){case"FOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map(e=>e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!0}):e)});case"UNFOLLOW":return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map(e=>e.id===t.userId?Object(c.a)(Object(c.a)({},e),{},{followed:!1}):e)});case"SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[...e.followingInProgress,t.userId]:e.followingInProgress.filter(e=>e!==t.userId)});default:return e}}},76:function(e,t,a){e.exports=a.p+"static/media/preloader.de50e2e9.gif"},77:function(e,t,a){e.exports={preload:"Preloader_preload__3CTQg"}},8:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));var n=a(74);const r=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"cd0e5f14-9142-4bdc-a7b4-acf0c5b6306f"}}),s={getUsers:(e=1,t=10)=>r.get("users?page=".concat(e,"&count=").concat(t)).then(e=>e.data),follow:e=>r.post("follow/".concat(e)),unfollow:e=>r.delete("follow/".concat(e)),getProfile:e=>(console.warn("Obsolete method. Please profileAPI object."),c.getProfile(e))},c={getProfile:e=>r.get("profile/".concat(e)),getStatus:e=>r.get("profile/status/".concat(e)),updateStatus:e=>r.put("profile/status",{status:e})},i={me:()=>r.get("auth/me"),login:(e,t,a=!1)=>r.post("auth/login",{email:e,password:t,rememberMe:a}),logout:()=>r.delete("auth/login")}}},[[128,2,3]]]);
//# sourceMappingURL=main.2034f7ef.chunk.js.map